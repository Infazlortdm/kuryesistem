<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ›µ Kurye Panel</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background: #0f172a;
            color: white;
        }

        .card-custom {
            background: #1e293b;
            border-radius: 15px;
            border: none;
            box-shadow: 0 4px 15px rgba(0,0,0,0.4);
        }

        .badge-bekliyor {
            background: #f59e0b;
        }

        .badge-alindi {
            background: #3b82f6;
        }

        .badge-teslim {
            background: #10b981;
        }

        .top-bar {
            position: sticky;
            top: 0;
            background: #111827;
            padding: 15px;
            z-index: 1000;
        }
    </style>
</head>

<body>

<div class="top-bar d-flex justify-content-between align-items-center">
    <h4>ğŸ›µ Kurye Panel</h4>
    <div>
        <a href="/gunsonu/" class="btn btn-sm btn-primary">ğŸ“¦ GÃ¼n Sonu</a>
        <a href="/logout/" class="btn btn-sm btn-danger">ğŸšª Ã‡Ä±kÄ±ÅŸ</a>
    </div>
</div>

<div class="container mt-3">

    <p class="text-info">ğŸ“Š Toplam Paket: <strong>{{ siparisler|length }}</strong></p>

    {% for siparis in siparisler %}
    <div class="card card-custom mb-3">
        <div class="card-body">

            <div class="d-flex justify-content-between">
                <h6>ğŸ“¦ #{{ siparis.id }}</h6>

                {% if siparis.durum == "bekliyor" %}
                    <span class="badge badge-bekliyor">â³ Bekliyor</span>
                {% elif siparis.durum == "alindi" %}
                    <span class="badge badge-alindi">ğŸšš AlÄ±ndÄ±</span>
                {% elif siparis.durum == "teslim" %}
                    <span class="badge badge-teslim">âœ… Teslim</span>
                {% endif %}
            </div>

            <hr>

            <p>ğŸ“ BÃ¶lge: <strong>{{ siparis.teslim_bolge }}</strong></p>
            <p>ğŸª Ä°ÅŸletme: {{ siparis.isletme }}</p>
            <p>ğŸ’³ Ã–deme: {{ siparis.odeme_tipi }}</p>

            {% if siparis.fis_foto %}
                <img src="{{ siparis.fis_foto.url }}" class="img-fluid rounded mt-2">
            {% endif %}

            <div class="mt-3">

                {% if siparis.durum == "bekliyor" %}
                    <a href="/al/{{ siparis.id }}/" class="btn btn-warning w-100">ğŸ›µ SipariÅŸi Al</a>
                {% endif %}

                {% if siparis.durum == "alindi" and siparis.alan_kurye.user == request.user %}
                    <a href="/teslim/{{ siparis.id }}/" class="btn btn-success w-100 mt-2">âœ… Teslim Edildi</a>
                {% endif %}

            </div>

        </div>
    </div>
    {% empty %}
        <div class="alert alert-secondary text-center">
            ğŸ“­ Aktif sipariÅŸ yok
        </div>
    {% endfor %}

</div>

</body>
</html>